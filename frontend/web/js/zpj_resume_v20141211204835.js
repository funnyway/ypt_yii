$(function(){var setRes=function(){var oMain=$(".vipResMain").get(0);function getPos(obj){var l=0;var t=0;while(obj){l+=obj.offsetLeft;t+=obj.offsetTop;obj=obj.offsetParent}return{left:l,top:t}}return function(){var iLeft=getPos(oMain).left+999;var iError=4;if(window.jsonArray){iError=0}$(".zpj-resOper").css({left:iLeft-iError})}}();$(window).resize(function(){setRes()});setRes();var loadImg=false;var btnOffset=$("#getContract").offset();var imgOffset=$(".myphoto li img:eq(0)").offset();if($(".myphoto img").length==0){return}$(".myphoto li").css("background","#fff url(http://img.58cdn.com.cn/n/images/loading.gif) no-repeat center");function doImg(){$(".myphoto li img").each(function(ix,val){$(val).attr("src",$(val).attr("_src"));$(val).load(function(){var height=$(val).height();var width=$(val).width();var pheight=$(val).parent().height();if(width>height){if(width>377){$(val).width(pheight)}}else{if(height>377){$(val).height(pheight)}}var imgtop=(pheight-$(val).height())/2;$(val).css("margin-top",parseInt(imgtop,10)+"px");loadImg=true;return})})}if(window.frames.length!=parent.frames.length){doImg()}if(imgOffset.top-$(window).height()<0){doImg()}$(window).scroll(function(){if(loadImg){return false}if(imgOffset.top-$(this).scrollTop()<$(window).height()){doImg()}});$(window).load(function(){if(!loadImg){doImg();loadImg=true}})});$(function(){if(window.____json4fe&&window.____json4fe.catentry&&window.____json4fe.catentry.dispid=="13139"){var htmlStr='<div class="r_ad"><div class="r_close"></div><a class="r_btn" href="javascript:void(0)"></a></div><div class="mask"  style="display:none"></div>'+'<div class="bb_recruit"  style="display:none">'+'<div class="bb_head">'+'<a class="bb_close" href="javascript:void(0)">×</a>'+"</div>"+'<div class="bb_con">'+"<p>扫码安装58招聘手机版<br/><em>免费推荐海量求职者,收到简历及时提醒,分分钟招到人！</em></p>"+'<div class="bb_main">'+'<div class="bb_ewm"><div class="bb_ico"><img src="http://img.58cdn.com.cn/ds/other/bbw/ewm1.png"></div><p>打开微信<br />对准二维码点“扫一扫”</p></div>'+"</div>"+'<div class="cb1"></div>'+"</div>"+'<div class="bb_footer">'+'<p><span class="p-t">也可以短信安装：</span><input id="phone" class="bb_input ip-class1" type="text" value="输入手机号" />'+'<a id="send" class="bb_btn" href="javascript:void(0)">发送短信</a><span id="phoneTips" class="bb-tips" style="display:none">号码有误！</span></p>'+'<p style="padding-top:6px"><span class="p-t">请输入验证码：</span><input id="vcode" class="bb_input ip-class1" type="text" value="输入验证码" style="width:120px"/>'+'<img id="vcodepic" align="" class="bb-yzm" width="97" height="36">'+'<a id="refreshvcode" href="javascript:void(0)" class="a-refresh" title="换一个"></a><span id="vcodeTips" class="bb-tips" style="display:none">验证码有误！</span>'+"</p>"+"</div>"+"</div>";$("#footer").after(htmlStr);(function(){var $input=$("#phone"),$btn=$("#send"),$phoneTips=$("#phoneTips"),$vcodeTips=$("#vcodeTips"),$vcode=$("#vcode"),reg=new RegExp(/^(13|14|18|15)\d{9}$/);var vkey="";var str="输入手机号";var vcodestr="输入验证码";var getVcode=function(){var reg=new RegExp(/^(13|14|18|15)\d{9}$/);var mobile=$input.val();var mobile_para="";if(reg.test(mobile)){mobile_para="&tel_number="+mobile}var getUrl="http://verifycode.58.com/captcha/get";var getIE6Url="http://verifycode.58.com/captcha/generateImg";var rand="?v="+(new Date).getTime();var url=getUrl+"?str="+vkey+mobile_para+"&width=97&height=36&nocache="+(new Date).getTime();$.ajax({url:url,type:"get",dataType:"jsonp",success:function(data){var vcodepicurl="";var isIE=document.all?true:false;var isIE6=isIE&&!window.XMLHttpRequest;var isIE7=!!window.navigator.userAgent.toUpperCase().match("MSIE 7.0");if(isIE6||isIE7){vcodepicurl=getIE6Url+rand}else{vcodepicurl="data:image/png;base64,"+data.data.img}$("#vcodepic").attr("src",vcodepicurl)}})};var getVkey=function(){var url="http://api.bangbang.58.com/getlevel?callback=?";$.getJSON(url,function(data){vkey=data.result;getVcode()})};getVkey();setInterval(getVkey,36e4);$("#refreshvcode").bind("click",function(){getVcode();return false});$input.focus(function(){if($(this).val()==str){$(this).removeClass("ip-class1");$(this).val("")}});$input.focusout(function(){if($(this).val()==""){$(this).addClass("ip-class1");$(this).val(str)}});$vcode.focus(function(){if($(this).val()==vcodestr){$(this).removeClass("ip-class1");$(this).val("")}});$vcode.focusout(function(){if($(this).val()==""){$(this).addClass("ip-class1");$(this).val(vcodestr)}});$btn.click(function(){var reg=new RegExp(/^(13|14|18|15)\d{9}$/);var mobile=$input.val();var reg_v=new RegExp(/\w{4}$/);var vcode=$vcode.val();if(reg.test(mobile)&&reg_v.test(vcode)){$phoneTips.hide();$vcodeTips.hide();var url="http://api.bangbang.58.com/sendsmsdownload?mobile="+mobile+"&input="+vcode+"&callback=?";$.getJSON(url,function(data){if(!data&&!data.result){return}if(data.result=="200"){$phoneTips.hide();$vcodeTips.hide();$(".mask").hide();$(".bb_recruit").hide()}else if(data.result=="402"){$vcodeTips.show();getVcode()}else if(data.result=="403"){$phoneTips.hide();$vcodeTips.hide();$(".mask").hide();$(".bb_recruit").hide();alert("该手机号已成功发送过短信，请勿重复发送。")}else if(data.result=="404"){getVkey()}else{$phoneTips.hide();$vcodeTips.hide();$(".mask").hide();$(".bb_recruit").hide();getVkey();alert("短信发送失败，请稍后再试")}})}else if(reg_v.test(vcode)){$phoneTips.show()}else{$vcodeTips.show();getVcode()}})})();$(".r_close").click(function(e){$(".r_ad").hide();e.stopPropagation()});$(".r_ad").click(function(e){$(".bb_recruit").show();$(".mask").show();e.preventDefault()});$(".bb_close").click(function(){$("#phoneTips").hide();$("#vcodeTips").hide();$(".mask").hide();$(".bb_recruit").hide()})}});function resizeIframe(obj){var height=obj["height"]?obj["height"]:0;$("#jlframe").css({height:height})}$(function(){$(".tipsCloseBtn").click(function(){$(this).parent().addClass("noTips")});$(".fromPosTipsClose").click(function(){$(this).parent().addClass("noTips")});$(".operationHide").click(function(){$(".bottomOperationMask").slideToggle();if($(this).hasClass("operationOpen")){$(this).removeClass("operationOpen").html('收起<span class="iconList openAndHideIcon"></span>')}else{$(this).addClass("operationOpen").html('展开<span class="iconList openAndHideIcon"></span>')}});$(".operationHide").mouseenter(function(){$(this).addClass("f-yellow")}).mouseleave(function(){$(this).removeClass("f-yellow")});$(".bottomOperation a").mouseenter(function(){$(this).addClass("f-yellow")}).mouseleave(function(){$(this).removeClass("f-yellow")});$(".noCertificate").mouseenter(function(){$(this).addClass("tipCertificate")}).mouseleave(function(){$(this).removeClass("tipCertificate")})});