window.fe58=window.fe58||{},fe58.Global={$lastPoped:null},function($){$.event.special.textchange={setup:function(){$(this).data("lastValue","true"===this.contentEditable?$(this).html():$(this).val()),$(this).bind("keyup.textchange",$.event.special.textchange.handler),$(this).bind("cut.textchange paste.textchange input.textchange",$.event.special.textchange.delayedHandler)},teardown:function(){$(this).unbind(".textchange")},handler:function(){$.event.special.textchange.triggerIfChanged($(this))},delayedHandler:function(){var element=$(this);setTimeout(function(){$.event.special.textchange.triggerIfChanged(element)},25)},triggerIfChanged:function(element){var current="true"===element[0].contentEditable?element.html():element.val();current!==element.data("lastValue")&&(element.trigger("textchange",[element.data("lastValue")]),element.data("lastValue",current))}},$.event.special.hastext={setup:function(){$(this).bind("textchange",$.event.special.hastext.handler)},teardown:function(){$(this).unbind("textchange",$.event.special.hastext.handler)},handler:function(event,lastValue){""===lastValue&&lastValue!==$(this).val()&&$(this).trigger("hastext")}},$.event.special.notext={setup:function(){$(this).bind("textchange",$.event.special.notext.handler)},teardown:function(){$(this).unbind("textchange",$.event.special.notext.handler)},handler:function(event,lastValue){""===$(this).val()&&$(this).val()!==lastValue&&$(this).trigger("notext")}}}(jQuery),function($){var resumeX=function(){var _resume=function(input,div,type,needFR,needRemoveParenthesis,mutex,callback,callback2){var _input=input||null,_key="",_div=div||null,_type=type||0,_needFR=needFR,_needRemoveParenthesis=needRemoveParenthesis,_mutex=mutex,_temp=[],_host="suggest.58.com.cn",_port="80",_poped=!1,_callback=callback,_callback2=callback2,_onok=function(from){var div=$("#"+_div);if("keyboard"==from)if(div.attr("keyword")==$("#"+_input).val()){var selecteda=div.find("a[state=c]");if(selecteda.length>0){div.hide();var text=selecteda.find(".fl").text();_needRemoveParenthesis&&text.indexOf("(")>0&&(text=text.substr(0,text.indexOf("("))),_callback?_callback.call(this,_mutex,text,selecteda.attr("i")):$("#"+_input).val(text),_poped=!1}}else if(_temp[_key])_parse(_temp[_key]);else{var url="http://"+_host+(_port?":"+_port:"")+"/searchsuggest_job.do?type="+_type+"&inputbox="+encodeURI(_key)+"&num=8&callback=?";$.getJSON(url,_parse)}else{div.hide();var $this=$(this),text=$this.find(".fl").text();_needRemoveParenthesis&&text.indexOf("(")>0&&(text=text.substr(0,text.indexOf("("))),_callback?_callback.call(this,_mutex,text,$this.attr("i")):$("#"+_input).val(text),_poped=!1}},_parse=function(data){var w=data.w,odiv=$("#"+_div);if(w.length>0){for(var html="",i=0,len=w.length;len>i;++i){var k=w[i].k,v=w[i].h[0].v,id=(w[i].n,w[i].id),fr=_needFR?'<span class="fr"> </span>':"",span=k.replace(v,'<strong class="red">'+v+"</strong>"),text=k;_needRemoveParenthesis&&text.indexOf("(")>0&&(text=text.substr(0,text.indexOf("("))),html+='<a href="javascript:void(0);" k="'+(i+1)+'" i="'+id+'"><span class="fl">',html+="<span>"+span+"</span></span>"+fr+"</a>"}odiv.show().find(".danhang2").html(html),odiv.find(".danhang2 a").bind("click",_onok),odiv.attr("keyword",$("#"+_input).val()),_poped=!0,_temp[_key]||(_temp[_key]=data)}else _poped=!1,odiv.hide()};this.getTemp=function(){return _temp},this.push=function(data){_temp.push(data)},this.textchange=function(e){_callback2&&_callback2.call(this);var keyCode=e.keyCode,input=$("#"+_input),div=$("#"+_div),value=input.val();if(""==value)return _poped=!1,div.hide(),!1;switch(_mutex&&$("#"+_mutex).hide(),_key=value,keyCode){case 38:if(_poped){var selecteda=div.find("a[state=c]");if(0==selecteda.length){var lasta=div.find("a:last");lasta.css("background","#EEE").attr("state","c")}else{var preva=selecteda.prev();preva[0]&&preva.css("background","#EEE").attr("state","c"),selecteda.css("background","").removeAttr("state")}}break;case 40:if(_poped){var selecteda=div.find("a[state=c]");if(0==selecteda.length){var lasta=div.find("a:first");lasta.css("background","#EEE").attr("state","c")}else{var nexta=selecteda.next();nexta[0]&&nexta.css("background","#EEE").attr("state","c"),selecteda.css("background","").removeAttr("state")}}break;case 13:_onok("keyboard");break;case 27:div.hide();break;case 37:break;case 39:break;case 16:break;case 17:break;case 18:break;default:if(_temp[_key])_parse(_temp[_key]);else{var url="http://"+_host+(_port?":"+_port:"")+"/searchsuggest_job.do?type="+_type+"&inputbox="+encodeURI(_key)+"&num=8&callback=?";$.getJSON(url,_parse)}}}};return _resume.bind=function(node_id,div_id,type,needFR,needRemoveParenthesis,mutex,callback,callback2){var obj=new fe58.resume(node_id,div_id,type,needFR,needRemoveParenthesis,mutex,callback,callback2);$("#"+node_id).bind("keyup.textchange",obj.textchange)},_resume}();window.fe58=window.fe58||{},window.fe58.resume=resumeX,$(function(){fe58.resume.bind("txtCompName","divCompName",2,!0,!1),fe58.resume.bind("txtSchoolName","divSchoolName",3,!0,!1),fe58.resume.bind("txtProfession","divProfession",4,!0,!1),fe58.resume.bind("inpAbiName","divAbiNamein",5,!0,!1),fe58.resume.bind("inpCertName","divCertNamein",6,!0,!1),fe58.resume.bind("txtCertAuthority","divCertAuthority",7,!0,!1),fe58.resume.bind("InpUserJob","divUserJob",-1,!0,!1)})}(jQuery),$(function(){function InpUserJobValeReplace(input){input.focus(function(){"例：求职销售 2年经验"==$.trim(input.val())&&input.val("")})}$("[fieldtype=input]").bind("click",function(){var $this=$(this);$("[fieldtype=input]").next().hide(),$this.next().toggle()}),$("[fieldtype=select]").click(function(){var $this=$(this),$next=$this.next();$next&&$next.show()}),$(function(){InpUserJobValeReplace($("#InpUserJob"))}),$(".danhang a").click(function(){try{var $this=$(this),$select=$this.parent().parent().prev();$this.parent().parent().hide(),$select.text($this.text()).removeClass("c99").removeClass("wrongborder"),$select.attr("k",$this.attr("k")),$this.parent().parent().attr("v")&&""!=$this.parent().parent().attr("v")&&$("#"+$this.parent().parent().attr("v")).val($this.attr("k"))}catch(err){}}),$(".setbox li a").click(function(){try{if("undefined"!=typeof $(this).attr("noclose"))return;if("undefined"!=typeof $(this).attr("d"))return;var $this=$(this),$select=$this.parent().parent().parent().prev();$select.text($this.text()).removeClass("c99").removeClass("wrongborder"),$this.parent().parent().parent().hide(),$("#cataHideId").val($this.attr("k"))}catch(err){}})}),function(){function getOffsetPosition(element){var posTop=0,posLeft=0;do posTop+=element.offsetTop||0,posLeft+=element.offsetLeft||0,element=element.offsetParent;while(element);return{left:posLeft,top:posTop}}window.alert2=function(obj,text){var lw=$("#limitWarn");text="<p>"+text+"</p>";var pos=getOffsetPosition(obj[0]);lw.html(text).css("top",pos.top+obj[0].clientHeight+10).css("left",pos.left+10).show()}}();